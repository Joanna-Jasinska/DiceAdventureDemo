"use strict";(self.webpackChunkDiceAdventureDemo=self.webpackChunkDiceAdventureDemo||[]).push([[311],{7235:function(e,n,t){t.d(n,{k:function(){return v}});var c=t(9243),a="DiceIcon_dice__mzHqX",i="DiceIcon_icon__Rr08e",r="DiceIcon_physical__yV2lY",s="DiceIcon_magic__15Bfj",o="DiceIcon_elemental__B0alV",l="DiceIcon_trait__fPQ3I",u="DiceIcon_any__f-UYu",d="DiceIcon_notRolled__oeujV",m=t(3329),_=function(e){var n=e.value,t=e.type,c=void 0===n||-1===n?"".concat(d," "):"";switch(t){case"any":default:return"".concat(c).concat(u);case"physical":case"slashed":case"smashed":case"needle":return"".concat(c).concat(r);case"mana":case"magic":case"arcane":case"toxic":case"void":case"rainbow":return"".concat(c).concat(s);case"elemental":case"heat":case"ice":case"shock":case"poison":return"".concat(c).concat(o);case"trait":case"speed":case"strength":case"dexterity":case"perception":case"wits":case"stamina":return"".concat(c).concat(l)}},v=function(e){var n=e.value,t=e.diceMax,r=e.type;return(0,m.jsxs)("div",{className:"".concat(a," ").concat(_({value:n,type:r})),children:[n||t||" "," ",(0,m.jsx)("span",{className:i,children:(0,c.sp)(r)})]})}},4057:function(e,n,t){t.d(n,{G:function(){return u}});var c=t(1564),a={item:"DungeonSquare_item__qIj3c",bar:"DungeonSquare_bar__zX7ka",iconBag:"DungeonSquare_iconBag__JG6Zg",button:"DungeonSquare_button__1IOgw",selected:"DungeonSquare_selected__24Thy",text:"DungeonSquare_text__iDjwK",level:"DungeonSquare_level__Auzzp",name:"DungeonSquare_name__9UrAj"},i=t(9434),r=t(7370),s=t(9243),o=t(7235),l=t(3329),u=function(e){var n=e.name,t=e.eventName,u=e.id,d=e.selected,m=void 0!==d&&d,_=e.background,v=e.lv,x=void 0===v?-1:v,f=e.weakness,h=void 0!==f&&f,g=e.index,p=(0,i.I0)(),j=_.bgColor,k=_.icon,b=_.eventIcon,D=!(!h||void 0===h)&&h;return(0,l.jsxs)("div",{className:a.item,id:u,children:[(0,l.jsx)(c.v,{alt:n,bgTxtFront:b,bgTxtBack:k,bgColor:j}),(0,l.jsxs)("div",{className:a.bar,children:["hide"===m?"":(0,l.jsx)("button",{className:"".concat(a.button," ").concat(m?a.selected:""," ").concat(a.delete),type:"button",onClick:function(){m||p((0,r.OK)(g))},children:m?(0,s.sp)("playerAttack"):"\ud83e\udc18"},"".concat(n,"btn").concat(u)),(0,l.jsxs)("span",{className:a.text,children:[(0,l.jsx)("span",{className:a.level,children:"".concat(x," ")}),(0,l.jsx)("span",{className:a.name,children:"".concat(n,"\n").concat(t)})]})]}),(0,l.jsx)("div",{className:a.iconBag,children:D?D.map((function(e,n){return(0,l.jsx)(o.k,{type:e},"dungeonWeakness|".concat(u,"|").concat(n))})):""})]})}},2350:function(e,n,t){t.d(n,{T:function(){return d}});var c="LevelUps_miniature__2zwxJ",a="LevelUps_shrink__7KL08",i="LevelUps_lv__6KwYG",r="LevelUps_textBoxContainer__dcNuL",s="LevelUps_bgColorFront__hLEBc",o="LevelUps_textBoxBack__EvX-V",l="LevelUps_imgFrame__YuZgh",u=t(3329),d=function(e){var n=e.lv,t=e.shrink,d=void 0!==t&&t,m=n||0;return 0===m?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)("div",{className:"".concat(c," ").concat(d?a:""),children:(0,u.jsxs)("div",{className:"".concat(l),children:[(0,u.jsx)("div",{className:i,children:m}),(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("div",{className:o,children:"Lv"}),(0,u.jsx)("div",{className:s,children:"\u2b89"})]})]})})}},1564:function(e,n,t){t.d(n,{v:function(){return i}});var c={miniature:"Miniature_miniature__-XChZ",extension:"Miniature_extension__JEJLA",padding:"Miniature_padding__AvpVc",textBoxContainer:"Miniature_textBoxContainer__VBOAB",textBoxFront:"Miniature_textBoxFront__YIyfd",textBoxBack:"Miniature_textBoxBack__b4yIz",imgFrame:"Miniature_imgFrame__3V+X9",figcaption:"Miniature_figcaption__PifSq",img:"Miniature_img__7uR5g"},a=t(3329),i=function(e){var n=e.padding,t=void 0!==n&&n,i=e.bgTxtFront,r=void 0===i?"":i,s=e.bgTxtBack,o=void 0===s?"":s,l=e.children,u=e.bgColor,d=void 0===u?"#d7ca92":u;return(0,a.jsxs)("figure",{className:"".concat(c.miniature," ").concat(l?c.extended:""),children:[(0,a.jsx)("div",{className:"".concat(c.imgFrame," ").concat(t?c.padding:""," "),style:{backgroundColor:"".concat(d)},children:(0,a.jsxs)("div",{className:c.textBoxContainer,children:[(0,a.jsx)("div",{className:c.textBoxBack,children:o}),(0,a.jsx)("div",{className:c.textBoxFront,children:r})]})}),l?(0,a.jsxs)("div",{className:c.extension,children:[" ",l]}):""]})}},8703:function(e,n,t){t.d(n,{Q:function(){return x}});var c=t(1413),a=t(3433),i=t(9434),r=t(4221),s=t(5459),o=t(4064),l=t(2639),u=t(9558),d=t(984),m=t(986),_="SkillList_list__0NNv7",v=t(3329),x=function(e){var n=e.filters,t=(0,i.v9)(r.mj),x=(0,d.wK)().dungeon,f=(0,i.I0)(),h=(0,i.v9)(u.bd),g=(0,d.TD)().combat;return(0,v.jsxs)("div",{className:_,children:[(0,i.v9)(r.NH)?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(l.a,{})}):"",h&&Array.isArray(h)?function(e,n){return n&&Array.isArray(n)?(0,a.Z)(n.filter((function(n){return!e.selected||n.selected===e.selected}))):n}(n||t,h).map((function(e,n){return(0,v.jsx)(s.i,{name:"".concat(e.name),alt:"".concat(e.alt),itemId:"".concat(e.itemId),index:n,selected:e.selected,skill:e.skill,currentUses:e.currentUses,success:m.U.usedDices(e.itemId,{combat:g,dungeon:x}),statsTxT:e.statsTxT||"",toggleSelect:function(){return f((0,o.$G)((0,c.Z)((0,c.Z)({},e),{},{selected:!e.selected})))},dices:e.dices,lv:e.lv},"".concat(e.name,"|").concat(e.index,"|").concat(e.id))})):""]})}},5459:function(e,n,t){t.d(n,{i:function(){return g}});var c=t(1413),a=t(7762),i=t(5861),r=t(3433),s=t(9439),o=t(7757),l=t.n(o),u=t(1564),d=t(7235),m={item:"SkillSquare_item__bxD12",canFire:"SkillSquare_canFire__YwXx-",skillButton:"SkillSquare_skillButton__6sBaz",bar:"SkillSquare_bar__HFaeU",text:"SkillSquare_text__k4BJE",name:"SkillSquare_name__thDuJ",iconBag:"SkillSquare_iconBag__c+K-+",disabled:"SkillSquare_disabled__L5kRC",spent:"SkillSquare_spent__cyghQ"},_=t(984),v=t(2791),x=t(9434),f=t(986),h=t(3329),g=function(e){var n=e.name,t=e.itemId,o=e.icon,g=e.alt,p=e.tags,j=void 0===p?[""]:p,k=e.success,b=void 0!==k&&k,D=e.currentUses,y=void 0===D?-1:D,N=e.skill,B=void 0===N?{name:"NO SKILL",txt:"-",id:"skill|id",displayCost:[]}:N,I=(0,v.useState)([]),S=(0,s.Z)(I,2),Z=S[0],C=S[1],q=(0,_.TD)(),w=q.inCombat,F=q.combat,L=(0,x.I0)();return(0,v.useEffect)((function(){var e=function(){var e=(0,i.Z)(l().mark((function e(n){var t,c,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.Z)(n),e.prev=1,t.s();case 3:if((c=t.n()).done){e.next=10;break}if(!1===(i=c.value)){e.next=8;break}return e.next=8,L(i());case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:C([]);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(n){return e.apply(this,arguments)}}();Z.length>0&&e(Z)}),[Z,L]),(0,h.jsxs)("div",{className:"".concat(m.item," ").concat(!0!==w||y<0?m.display:b?m.canFire:m.disabled," ").concat(!0===w&&0===y?m.spent:""),id:t,children:[(0,h.jsx)(u.v,{url:o,alt:g||n,bgTxtBack:j[0]}),(0,h.jsx)("div",{className:"".concat(m.skillButton," "),onClick:function(){b&&0===Z.length&&C((0,r.Z)(Z.concat(f.U.execute(t,{combat:F},b))))},children:g},"".concat(n,"btn").concat(t)),(0,h.jsxs)("div",{className:m.bar,children:[(0,h.jsx)("div",{className:m.iconBag,children:(B.displayCost?B.displayCost:[]).map((function(e,t){return(0,v.createElement)(d.k,(0,c.Z)((0,c.Z)({},e),{},{key:"".concat(n,"|").concat(e.type,"|").concat(t)}))}))}),(0,h.jsx)("div",{className:m.text,children:B.txt}),(0,h.jsx)("span",{className:m.name,children:B.name})]})]})}},986:function(e,n,t){t.d(n,{U:function(){return o}});var c=t(3433),a=t(3875),i=function(e){var n=function(e,n){if(!e)return[];var t=(0,a.Dl)(e)||[];return 0===t.length?[]:(0,c.Z)(t.map((function(e){var t=e[0]||{false:function(){return!1}},c=e.length>0&&e[1]||!1,a=e.length>1&&e[2]||{};return function(){return t[c]({params:a,state:n})}})))}(e.itemId,e.state);return!(n.length<1)&&n},r=t(7796),s=t(7492),o={usedDices:function(e,n){var t=n.dungeon||!1,a=t&&t.items||!1,r=!!a&&a.find((function(n){return n.itemId===e}));if((r&&r.currentUses||0)<1)return!1;var s=i({itemId:e,state:n});if(!s)return console.log("".concat(e," had no evaluations to perform")),!1;for(var o=(0,c.Z)(s),l=!0,u=0;l&&u<o.length;){var d=o[u]();void 0===d||!1===d?l=!1:!0!==d&&(l=!0!==l&&!1!==l?[].concat((0,c.Z)(l),(0,c.Z)(d)):(0,c.Z)(d)),u++}return u!==o.length&&(l=!1),l},execute:function(e,n,t){var i=(0,c.Z)(t.map((function(e){return function(e,n){return n.find((function(n){return n.id===e}))||{}}(e,n.combat.rolledDices)})));console.log("Skill.EXECUTE > usedDices, diceIdArr",i,t);var o=function(e){var n=e.itemId,t=e.state,i=e.usedDices;if(!n)return[];var r=(0,a.cL)(n)||[];if(0===r.length)return[];var s=(0,c.Z)(r.map((function(e){var n=e[0]||{false:function(){return!1}},c=e.length>0&&e[1]||!1,a=e.length>1&&e[2]||{};return function(){return n[c]({params:a,state:t,usedDices:i})}})));return!(s.length<1)&&(console.log("data> skillExecs > SkillExecs for:",n,s),s)}({itemId:e,state:n,usedDices:i});if(!o)return console.log("".concat(e," had no actions to execute")),!1;for(var l=(0,c.Z)(o),u=!0,d=0;u&&d<l.length;){var m=l[d]();void 0===m||!1===m?u=!1:!0!==m&&(u=!0!==u&&!1!==u?[].concat((0,c.Z)(u),(0,c.Z)(m)):(0,c.Z)(m)),d++}return u=d===l.length&&(!0!==u&&!1!==u?[].concat((0,c.Z)(u),[r.EC,function(){return(0,s.IZ)(e)}]):[r.EC,function(){return(0,s.IZ)(e)}])}}},9311:function(e,n,t){t.r(n),t.d(n,{DungeonPage:function(){return j}});var c=t(9434),a=t(7689),i=t(35),r=t(604),s=t(7492),o=t(984),l=t(7796),u=t(5425),d=t(2024),m=t(1457),_=t(8703),v=t(8934),x=t(2350),f=t(2093),h=t(4057),g=t(4278),p=t(3329),j=function(){var e=(0,c.I0)(),n=(0,c.v9)(i.DC),t=(0,o.wK)(),j=t.name,k=t.eventName,b=t.bg,D=t.lv,y=t.slotsDefeated,N=t.goldEarned,B=t.startedLv,I=(0,g.G)().selectedDungeonId,S=(0,o.TD)().inCombat,Z=Math.max((D||0)-(B||0),0),C=function(n){e((0,s.B$)(n)).then((function(){e((0,u.o_)()).then((function(){e((0,l.PD)({})).then((function(){})).catch((function(e){}))})).catch((function(e){}))})).catch((function(e){}))};return(0,p.jsx)(p.Fragment,{children:S?(0,p.jsx)(a.Fg,{to:"/combat"}):(0,p.jsxs)("main",{className:"".concat(f.Z.main," ").concat(f.Z.padding0),children:[n?(0,p.jsx)("span",{className:f.Z.error,children:n}):"",(0,p.jsx)(d.A,{}),(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"0.4rem",marginBottom:"0.5rem"},children:[(0,p.jsx)(h.G,{name:j,eventName:k,id:I,lv:D,background:b,selected:"hide"}),(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",paddingTop:"1rem"},children:[(0,p.jsx)(r.Y,{to:"/combat",display:"".concat(b.icon),onClick:function(){return C(0)},completed:y[0],disabled:y[0],recommended:!y[0]}),(0,p.jsx)(r.Y,{to:"/combat",display:"".concat(b.eventIcon),onClick:function(){return C(1)},completed:y[1],disabled:y[1],recommended:!y[1]}),(0,p.jsx)(r.Y,{to:"/combat",display:"Boss \u2620\ufe0f",onClick:function(){e((0,s.xZ)()).then((function(){e((0,u.o_)()).then((function(){e((0,l.PD)({})).then((function(){})).catch((function(e){}))})).catch((function(e){}))})).catch((function(e){}))},completed:y.boss,disabled:y.boss,warning:!y.boss})]})]}),(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"0.4rem"},children:[(0,p.jsx)(m.A,{}),(0,p.jsx)(x.T,{lv:Z}),(0,p.jsx)(v.T,{gold:N})]}),(0,p.jsx)(_.Q,{})]})})};n.default=j}}]);
//# sourceMappingURL=311.2681de9b.chunk.js.map