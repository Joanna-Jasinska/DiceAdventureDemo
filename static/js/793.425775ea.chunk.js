"use strict";(self.webpackChunkDiceAdventureDemo=self.webpackChunkDiceAdventureDemo||[]).push([[793],{7235:function(e,n,t){t.d(n,{k:function(){return m}});var a=t(9243),c="DiceIcon_dice__mzHqX",i="DiceIcon_icon__Rr08e",r="DiceIcon_physical__yV2lY",s="DiceIcon_magic__15Bfj",o="DiceIcon_elemental__B0alV",l="DiceIcon_trait__fPQ3I",u="DiceIcon_any__f-UYu",d="DiceIcon_notRolled__oeujV",v=t(3329),_=function(e){var n=e.value,t=e.type,a=void 0===n||-1===n?"".concat(d," "):"";switch(t){case"any":default:return"".concat(a).concat(u);case"physical":case"slashed":case"smashed":case"needle":return"".concat(a).concat(r);case"mana":case"magic":case"arcane":case"toxic":case"void":case"rainbow":return"".concat(a).concat(s);case"elemental":case"heat":case"ice":case"shock":case"poison":return"".concat(a).concat(o);case"trait":case"speed":case"strength":case"dexterity":case"perception":case"wits":case"stamina":return"".concat(a).concat(l)}},m=function(e){var n=e.value,t=e.diceMax,r=e.type;return(0,v.jsxs)("div",{className:"".concat(c," ").concat(_({value:n,type:r})),children:[n||t||" "," ",(0,v.jsx)("span",{className:i,children:(0,a.sp)(r)})]})}},1564:function(e,n,t){t.d(n,{v:function(){return i}});var a={miniature:"Miniature_miniature__-XChZ",extension:"Miniature_extension__JEJLA",padding:"Miniature_padding__AvpVc",textBoxContainer:"Miniature_textBoxContainer__VBOAB",textBoxFront:"Miniature_textBoxFront__YIyfd",textBoxBack:"Miniature_textBoxBack__b4yIz",imgFrame:"Miniature_imgFrame__3V+X9",figcaption:"Miniature_figcaption__PifSq",img:"Miniature_img__7uR5g"},c=t(3329),i=function(e){var n=e.padding,t=void 0!==n&&n,i=e.bgTxtFront,r=void 0===i?"":i,s=e.bgTxtBack,o=void 0===s?"":s,l=e.children,u=e.bgColor,d=void 0===u?"#d7ca92":u;return(0,c.jsxs)("figure",{className:"".concat(a.miniature," ").concat(l?a.extended:""),children:[(0,c.jsx)("div",{className:"".concat(a.imgFrame," ").concat(t?a.padding:""," "),style:{backgroundColor:"".concat(d)},children:(0,c.jsxs)("div",{className:a.textBoxContainer,children:[(0,c.jsx)("div",{className:a.textBoxBack,children:o}),(0,c.jsx)("div",{className:a.textBoxFront,children:r})]})}),l?(0,c.jsxs)("div",{className:a.extension,children:[" ",l]}):""]})}},5459:function(e,n,t){t.d(n,{i:function(){return x}});var a=t(1413),c=t(7762),i=t(5861),r=t(3433),s=t(9439),o=t(7757),l=t.n(o),u=t(1564),d=t(7235),v={item:"SkillSquare_item__bxD12",canFire:"SkillSquare_canFire__YwXx-",skillButton:"SkillSquare_skillButton__6sBaz",bar:"SkillSquare_bar__HFaeU",text:"SkillSquare_text__k4BJE",name:"SkillSquare_name__thDuJ",iconBag:"SkillSquare_iconBag__c+K-+",disabled:"SkillSquare_disabled__L5kRC",spent:"SkillSquare_spent__cyghQ"},_=t(984),m=t(2791),g=t(9434),h=t(986),f=t(3329),x=function(e){var n=e.name,t=e.itemId,o=e.icon,x=e.alt,p=e.tags,y=void 0===p?[""]:p,b=e.success,k=void 0!==b&&b,j=e.currentUses,S=void 0===j?-1:j,I=e.skill,Z=void 0===I?{name:"NO SKILL",txt:"-",id:"skill|id",displayCost:[]}:I,N=(0,m.useState)([]),B=(0,s.Z)(N,2),C=B[0],A=B[1],q=(0,_.TD)(),D=q.inCombat,F=q.combat,Q=(0,g.I0)();return(0,m.useEffect)((function(){var e=function(){var e=(0,i.Z)(l().mark((function e(n){var t,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,c.Z)(n),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=10;break}if(!1===(i=a.value)){e.next=8;break}return e.next=8,Q(i());case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:A([]);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(n){return e.apply(this,arguments)}}();C.length>0&&e(C)}),[C,Q]),(0,f.jsxs)("div",{className:"".concat(v.item," ").concat(!0!==D||S<0?v.display:k?v.canFire:v.disabled," ").concat(!0===D&&0===S?v.spent:""),id:t,children:[(0,f.jsx)(u.v,{url:o,alt:x||n,bgTxtBack:y[0]}),(0,f.jsx)("div",{className:"".concat(v.skillButton," "),onClick:function(){k&&0===C.length&&A((0,r.Z)(C.concat(h.U.execute(t,{combat:F},k))))},children:x},"".concat(n,"btn").concat(t)),(0,f.jsxs)("div",{className:v.bar,children:[(0,f.jsx)("div",{className:v.iconBag,children:(Z.displayCost?Z.displayCost:[]).map((function(e,t){return(0,m.createElement)(d.k,(0,a.Z)((0,a.Z)({},e),{},{key:"".concat(n,"|").concat(e.type,"|").concat(t)}))}))}),(0,f.jsx)("div",{className:v.text,children:Z.txt}),(0,f.jsx)("span",{className:v.name,children:Z.name})]})]})}},6891:function(e,n,t){t.d(n,{e:function(){return s}});var a=t(9243),c="StatIcon_stat__bvU0-",i="StatIcon_icon__U+1Gf",r=t(3329),s=function(e){var n=e.type,t=e.maxHp,s=void 0===t?"":t;return(0,r.jsxs)("div",{className:"".concat(c),children:[s," ",(0,r.jsx)("span",{className:i,children:(0,a.sp)(n)})]})}},986:function(e,n,t){t.d(n,{U:function(){return o}});var a=t(3433),c=t(1621),i=function(e){var n=e.itemId,t=function(e,n){if(!e)return[];var t=(0,c.Dl)(e)||[];return 0===t.length?[]:(0,a.Z)(t.map((function(e){var t=e[0]||{false:function(){return!1}},a=e.length>0&&e[1]||!1,c=e.length>1&&e[2]||{};return function(){return t[a]({params:c,state:n})}})))}(n,e.state);return!(t.length<1)&&(console.log("Skill evaluations for:",n,t),t)},r=t(7796),s=t(7492),o={usedDices:function(e,n){var t=n.dungeon||!1,c=t&&t.items||!1,r=!!c&&c.find((function(n){return n.itemId===e}));if((r&&r.currentUses||0)<1)return!1;var s=i({itemId:e,state:n});if(!s)return console.log("".concat(e," had no evaluations to perform")),!1;for(var o=(0,a.Z)(s),l=!0,u=0;l&&u<o.length;){var d=o[u]();void 0===d||!1===d?l=!1:!0!==d&&(l=!0!==l&&!1!==l?[].concat((0,a.Z)(l),(0,a.Z)(d)):(0,a.Z)(d)),u++}return u!==o.length&&(l=!1),l},execute:function(e,n,t){var i=(0,a.Z)(t.map((function(e){return function(e,n){return n.find((function(n){return n.id===e}))||{}}(e,n.combat.rolledDices)})));console.log("Skill.EXECUTE > usedDices, diceIdArr",i,t);var o=function(e){var n=e.itemId,t=e.state,i=e.usedDices;if(!n)return[];var r=(0,c.cL)(n)||[];if(0===r.length)return[];var s=(0,a.Z)(r.map((function(e){var n=e[0]||{false:function(){return!1}},a=e.length>0&&e[1]||!1,c=e.length>1&&e[2]||{};return function(){return n[a]({params:c,state:t,usedDices:i})}})));return!(s.length<1)&&(console.log("data> skillExecs > SkillExecs for:",n,s),s)}({itemId:e,state:n,usedDices:i});if(!o)return console.log("".concat(e," had no actions to execute")),!1;for(var l=(0,a.Z)(o),u=!0,d=0;u&&d<l.length;){var v=l[d]();void 0===v||!1===v?u=!1:!0!==v&&(u=!0!==u&&!1!==u?[].concat((0,a.Z)(u),(0,a.Z)(v)):(0,a.Z)(v)),d++}return u=d===l.length&&(!0!==u&&!1!==u?[].concat((0,a.Z)(u),[r.EC,function(){return(0,s.IZ)(e)}]):[r.EC,function(){return(0,s.IZ)(e)}])}}},1793:function(e,n,t){t.r(n),t.d(n,{TownPage:function(){return X},default:function(){return Y}});var a=t(9434),c=t(35),i=t(3433),r=t(1413),s=t(1564),o="AllySquare_item__y3iCq",l="AllySquare_bar__lLA8D",u="AllySquare_text__kQ9A2",d="AllySquare_level__J1Ciw",v="AllySquare_name__pkSaf",_="AllySquare_subtitle__WcFeV",m=t(3329),g=function(e){var n=e.name,t=void 0===n?"Ally":n,a=(e.title,e.id),c=e.bgTxtFront,i=e.bgTxtBack,r=e.bgColor,g=e.lv,h=void 0===g?1:g;return(0,m.jsxs)("div",{className:o,id:a,children:[(0,m.jsx)(s.v,{alt:t,bgTxtFront:c,bgTxtBack:i,bgColor:r}),(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)("div",{className:_,children:"Friendship"}),(0,m.jsx)("span",{className:d,children:h}),(0,m.jsx)("span",{className:u,children:(0,m.jsx)("span",{className:v,children:"".concat(t)})})]})]})},h=function(e){return f.find(e)},f=[{name:"Tashka",id:"ally|4|",type:"barbarian",title:"Elite Rajavi Pathforcer",icon:"\ud83e\uddde\u200d\u2640\ufe0f",eventIcon:"\ud83e\ude93",bgColor:"#742727"},{name:"Valathar",id:"ally|2|",type:"aristocrat",title:"Rajavi Aristocrat & Pathforcer",icon:"\ud83e\udddd\u200d\u2640\ufe0f",eventIcon:"\ud83e\udd8c",bgColor:"#745c27"},{name:"Zern",id:"ally|3|",type:"hunter",title:"Rajavi Hunter & Pathforcer",icon:"\ud83e\udddd\ud83c\udffb",eventIcon:"\ud83c\udf3e",bgColor:"#4a7427"},{name:"Mir",id:"ally|5|",type:"rogue",title:"Elite Rajavi Pathforcer",icon:"\ud83e\uddb9\u200d\u2640\ufe0f",eventIcon:"\ud83d\udd2a",bgColor:"#4b2774"},{name:"Ihlaoxeus",id:"ally|1|",type:"wizard",title:"Rajavi Mage & Pathforcer",icon:"\ud83e\uddd9",eventIcon:"\u2728",bgColor:"#275674"}],x="AllyList_list__UGSa7",p=t(4278),y=function(e){var n=e.id,t=e.list,a=void 0===t?f:t,c=n?[(0,r.Z)((0,r.Z)({},h(n)),{},{type:""})]:(0,i.Z)(a),s=(0,p.G)().allies;return console.log("displayed",c),(0,m.jsx)("div",{className:x,children:c.length<1?"":c.map((function(e,n){return(0,m.jsx)(g,(0,r.Z)({},(0,r.Z)((0,r.Z)({},e),{},{lv:s[e.type].lv,bgTxtFront:e.icon,bgTxtBack:e.eventIcon,key:"ally|".concat(n,"|").concat(e.id)})))}))})},b=t(4221),k=t(7235),j="QuestSquare_item__rq9jF",S="QuestSquare_bar__ms7IJ",I="QuestSquare_iconBag__8-o+v",Z="QuestSquare_selectButton__su+i3",N="QuestSquare_buy__Ge5IW",B="QuestSquare_locked__3Tn6n",C="QuestSquare_text__ZhIiB",A="QuestSquare_level__A-7rs",q="QuestSquare_name__7d7my",D=t(5459),F=t(6891),Q=t(4064),E=t(7370),M=t(2791),T=function(e){var n=e.item,t=e.locked,c=e.cost,i=e.ally,o=n.name,l=n.itemId,u=n.icon,d=n.alt,v=n.tags,_=void 0===v?[""]:v,g=n.lv,h=void 0===g?1:g,f=n.dices,x=n.nondices,y=n.skill,b=void 0===y?{name:"NO SKILL",txt:"-",id:"noskill"}:y,T=(0,p.G)().gold,w=(0,a.I0)();return(0,m.jsxs)("div",{className:j,id:l,children:[(0,m.jsx)(s.v,{url:u,alt:d||o,bgTxtFront:d,bgTxtBack:_[0],children:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(D.i,{skill:b})})}),(0,m.jsxs)("div",{className:S,children:[t?(0,m.jsx)("div",{className:"".concat(Z," ").concat(B," "),children:t}):T<c?(0,m.jsx)("div",{className:"".concat(Z," ").concat(B," "),children:"Price\n".concat(c,"\ud83d\udcb0")}):(0,m.jsxs)("button",{className:"".concat(Z," ").concat(N," "),type:"button",onClick:function(e){e.preventDefault(),w((0,E.nF)(c)).then((function(e){"string"!==typeof e.payload&&(w((0,E.P3)(i)),w((0,Q.iO)(l)))}))},children:["-",c,"\ud83d\udcb0"]},"".concat(o,"btnLvUp").concat(l)),(0,m.jsxs)("span",{className:C,children:[(0,m.jsx)("span",{className:A,children:"".concat(h," ")}),(0,m.jsx)("span",{className:q,children:o+" "})]})]}),(0,m.jsxs)("div",{className:I,children:[(x||[]).map((function(e,n){return(0,M.createElement)(F.e,(0,r.Z)((0,r.Z)({},e),{},{key:"".concat(o,"|").concat(e.type,"|").concat(n)}))})),(f||[]).map((function(e,n){return(0,M.createElement)(k.k,(0,r.Z)((0,r.Z)({},e),{},{key:"".concat(o,"|").concat(e.type,"|").concat(n)}))}))]})]})},w=t(2639),L="QuestList_list__D7p1M",U=t(3517),R={4:{item:"Bunny Familiar|BUNNY MAGIC|",dungeon:"dungeon|5|"}},V={2:{item:"Kitchen Knives|KNIFE THROW|",dungeon:"dungeon|1|"}},P={3:{item:"Vial of Iroposion|MIX POISON|",dungeon:"dungeon|4|"}},O={3:{item:"Rope|CLEVER USE|",dungeon:"dungeon|3|"}},z={2:{item:"Leather Vest|THUMBLE -2|",dungeon:"dungeon|2|"}},G=function(e){switch(e){case"dungeon|1|":return"Mountain";case"dungeon|2|":default:return"Forest";case"dungeon|3|":return"Valley";case"dungeon|4|":return"Island";case"dungeon|5|":return"Castle"}},H={getAllyQuests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,i=[];switch(c){case"wizard":i=R;break;case"barbarian":i=V;break;case"rogue":i=P;break;case"hunter":i=O;break;case"aristocrat":i=z;break;default:return[]}for(var r,s=Object.keys(i),o=0,l=e,u=[];l<s[s.length-1]&&(!a||o<a);){var d=i[r=s[l]]||!1;if(d){var v=Math.floor((r||0)/3),_=!1;t[d.dungeon]<r&&(_="Reach Lv ".concat(r,"\n").concat(G(d.dungeon))),n<v&&(_="Move cravan\nto unlock");var m=150+(r>=0?10*r:0);u.push({dungeon:d.dungeon,item:U.o.getItemById({id:d.item}),locked:_,index:l,cost:m,ally:c}),o+=1}l+=1}return u.length>0?u:[]},getAvailableQuests:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=this.getAllyQuests(e.wizard.lv,n,t,a,"wizard"),r=this.getAllyQuests(e.barbarian.lv,n,t,a,"barbarian"),s=this.getAllyQuests(e.aristocrat.lv,n,t,a,"aristocrat"),o=this.getAllyQuests(e.hunter.lv,n,t,a,"hunter"),l=this.getAllyQuests(e.rogue.lv,n,t,a,"rogue");return[].concat((0,i.Z)(r),(0,i.Z)(s),(0,i.Z)(o),(0,i.Z)(l),(0,i.Z)(c))}},J=function(){var e=(0,p.G)(),n=e.dungeonLevels,t=e.allies,c=H.getAvailableQuests(t,1,n),s=(0,i.Z)(c||[]);return(0,m.jsxs)("div",{className:L,children:[(0,a.v9)(b.NH)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("br",{}),(0,m.jsx)(w.a,{})]}):"",s&&Array.isArray(s)?s.map((function(e,n){return(0,M.createElement)(T,(0,r.Z)((0,r.Z)({},e),{},{key:"Quest|".concat(e.item.name,"|").concat(n)}))})):""]})},K=t(2093),X=function(){var e=(0,a.v9)(c.DC);return(0,m.jsxs)("main",{className:K.Z.main,children:[e?(0,m.jsx)("span",{className:K.Z.error,children:e}):"",(0,m.jsx)(y,{}),(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",justifyContent:"center"},children:(0,m.jsx)(J,{})})]})},Y=X}}]);
//# sourceMappingURL=793.425775ea.chunk.js.map